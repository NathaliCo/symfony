
{% extends 'base.html.twig' %}

{% block body %}
<div class="centradito">
    <h1>Lista de productos</h1> 
{% set array = [] %}
  {% for producto in productos %}
    {% set array = array | merge([{id: producto.id, clave: producto.claveProducto, nombre: producto.nombre,precio: producto.precio}]) %}
  {% endfor %}
  <input type="hidden" id="array" value="{{ array|json_encode }}">
  <button class= "btn btn-secondary" onclick="exportTableToExcel('lista-productos', 'productos')">Descargar en formato xmls</button>
    <table id="lista-productos" class="table table-striped table-bordered" style="width:100%">
        <thead class="">
            <tr>
                <th>Id</th>
                <th>Clave del producto</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
        {% for producto in productos %}
            <tr>
                <td><a href="{{ path('producto_show', { 'id': producto.id }) }}">{{ producto.id }}</a></td>
                <td>{{ producto.claveProducto }}</td>
                <td>{{ producto.nombre }}</td>
                <td>{{ producto.precio }}</td>
                <td>
                  <a href="{{ path('producto_show', { 'id': producto.id }) }}" title="Ver"> <img src="{{ asset('assets/google-docs.png') }}" alt="Ver"/> </a>
                  <a href="{{ path('producto_edit', { 'id': producto.id }) }}" tittle="Editar"><img src="{{ asset('assets/editar.png') }}" alt="Editar" /></a>
                  <a href="{{ path('producto_delete', { 'id': producto.id }) }}" title="Eliminar"><img src="{{ asset('assets/eliminar(1).png') }}" alt="Eliminar" /></a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <table id="tabla"></table>
</div>
{% endblock %}
